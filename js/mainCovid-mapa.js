"use strict";var FuncionalidadesMap=function(){window.addEventListener("resize",(function(){setTimeout((function(){e()}),500)}));var e=function(){window.innerWidth},t=function(){},a=function(){new TimelineMax,new TimelineMax,document.getElementById("mainContainer").getAttribute("dataclass");var e=document.querySelectorAll("svg"),t=(Snap(e),document.querySelector(".blackboxLoaderMapa")),a=document.querySelector(".backBtn"),o=document.querySelector(".btnMoreTopics"),n=document.querySelector(".contChoicheDpto"),r=document.querySelector(".totalRegiones"),s=document.querySelector(".containerCountry"),l=s.querySelector(".colombiaDepartmentsSvg"),i=s.querySelector(".informationContainerColombia"),c=l.querySelectorAll("polygon"),u=l.querySelectorAll("path"),d="https://mzzbmc3w8i.execute-api.us-east-1.amazonaws.com/default/ANHB?dep=0",p=(document.getElementById("mainContainer").getAttribute("dataClass"),function(e){FuncionalidadesGenerales.getJSON(e,(function(e,t){null!==e?console.log("Something went wrong: "+e):(m(t.Departamentos,n),[].forEach.call(c,(function(e){for(var a=e.getAttribute("id").split("-")[1],o=0;o<t.Departamentos.length;o++){var n=t.Departamentos[o],r=n.Departamento;n.cod_dane_depto==a&&e.setAttribute("dataName",FuncionalidadesGenerales.titleCase(r," "))}})),[].forEach.call(u,(function(e){for(var a=e.getAttribute("id").split("-")[1],o=0;o<t.Departamentos.length;o++){var n=t.Departamentos[o],r=n.Departamento;n.cod_dane_depto==a&&e.setAttribute("dataName",FuncionalidadesGenerales.titleCase(r," "))}})),g(t))}))});p(d);var g=function(e){var a,o,n,s=i.querySelector("h1.nameCurrentStage"),l=i.querySelector(".summaryContainer .total span.currentMercados"),c=i.querySelector(".summaryContainer .total span.totalMercados"),u=r.querySelectorAll("ul li");e.Total?(a=parseInt(e.Total.Mercados_entregados),o=parseInt(e.Total.Meta),n=e.Regiones):(a=parseInt(e.Mercados_entregados),o=parseInt(e.Meta)),e.Departamento?s.textContent=FuncionalidadesGenerales.titleCase(e.Departamento," "):s.textContent="Nivel Nacional",l.innerHTML=FuncionalidadesGenerales.currencyFormatDE(a),c.innerHTML=FuncionalidadesGenerales.currencyFormatDE(o),n&&u.forEach((function(e,t){return n.forEach((function(t){var a=e.querySelector(".totalEntregado"),o=e.querySelector(".totalMeta");e.id==t.cod_region&&(a.innerHTML=FuncionalidadesGenerales.currencyFormatDE(t.Mercados_entregados),o.innerHTML=FuncionalidadesGenerales.currencyFormatDE(t.Meta))}))})),t.style.display="none"},m=function(e,n){n.classList.contains("contChoicheDpto")&&('<option value="--">Selecciona un Departamento</option>',function(n,r){var s=n,l=r;e=e.sort((function(e,t){return e.Departamento>t.Departamento?1:-1}));for(var i=0;i<e.length;i++){var g=e[i];s+='<option value="'+g.cod_dane_depto+'">'+g.Departamento+"</option>"}l.innerHTML=s,m=l,m.addEventListener("input",(function(e){if(t.style.display="flex","--"!==e.target.value)S(e.target.value);else{for(var n=0;n<c.length;n++)c[n].classList.remove("selected");for(var r=0;r<u.length;r++)u[r].classList.remove("selected");a.style.display="none",p(d)}o&&v(o)}));var m}('<option value="--">Selecciona un Departamento</option>',n.querySelector(".choicheDpto")))},v=function(e){e.classList.remove("btnLessTopics"),e.parentNode.querySelector(".listTableByTopic").classList.remove("showAllTopics"),e.parentNode.parentNode.classList.remove("showingAllTopics"),e.parentNode.parentNode.parentNode.querySelector(".registersByCategory").classList.remove("hidingByTopics")},y=function(e){for(var t=0;t<e.length;t++)e[t].addEventListener("click",(function(e){e.preventDefault();var t=this.getAttribute("class").split(" ")[0],a=this.parentNode,o=FuncionalidadesGenerales.getSiblings(a),n=this.nextElementSibling;this.classList.toggle("activeTopic");for(var r=[],s=[],l=[],i=[],c=0;c<o.length;c++)r.push(o[c].firstElementChild),s.push(o[c].lastElementChild),l.push(o[c].querySelectorAll(".titleSubTopic")),i.push(o[c].querySelectorAll(".innerContListVitimsByCategory"));if("titleSubTopic"==t){var u=n.closest(".topicContainer");if(n.classList.contains("active")){(new TimelineMax).to(u,.1,{css:{height:"auto"},ease:Power2.easeOut}).to(n,.5,{height:0,ease:Power2.easeOut}).set(n,{className:"-=active"})}else{var d=new TimelineMax;u.style.height="auto",n.classList.add("active"),n.style.height="auto";var p=n.offsetHeight;n.style.height="0px",d.to(n,.5,{height:p,ease:Power2.easeOut}).staggerTo(s,.3,{height:0,ease:Power2.easeOut},0,"-=0.3").staggerTo(r,.3,{className:"-=activeTopic"},0,0).staggerTo(s,.01,{className:"-=active"},0)}}else if(n.classList.contains("active")){(new TimelineMax).to(n,.5,{height:0,ease:Power2.easeOut}).set(n,{className:"-=active"}).staggerTo(n.querySelectorAll(".innerContListVitimsByCategory"),.3,{height:0,ease:Power2.easeOut},0,"-=0.3").staggerTo(n.querySelectorAll(".titleSubTopic"),.3,{className:"-=activeTopic"},0).staggerTo(n.querySelectorAll(".innerContListVitimsByCategory"),.01,{className:"-=active"},0)}else{var g=new TimelineMax;n.classList.add("active"),n.style.height="auto";var m=n.offsetHeight;n.style.height="0px",g.to(n,.5,{height:m,ease:Power2.easeOut}).staggerTo(s,.3,{height:0,ease:Power2.easeOut},0,"-=0.3").staggerTo(r,.3,{className:"-=activeTopic"},0,0).staggerTo(s,.01,{className:"-=active"},0).staggerTo(i,.3,{height:0,ease:Power2.easeOut},0,"-=0.3").staggerTo(l,.3,{className:"-=activeTopic"},0).staggerTo(i,.01,{className:"-=active"},0)}}))},h=function(e,t){var a=document.querySelector(".tooltipNames"),o=FuncionalidadesGenerales.getSiblings(e);a.style.display="block";for(var n=0;n<o.length;n++)o[n].classList.remove("hoverIn");e.classList.add("hoverIn"),e.parentElement.parentElement.parentElement.addEventListener("mousemove",(function(e){var t,o;e?(t=e.layerX,o=e.layerY):(t=window.event.x+document.body.scrollLeft-2,o=window.event.y+document.body.scrollTop-2),t-=0,o-=0,a.style.left=t+15+"px",a.style.top=o+15+"px"})),a.getElementsByTagName("p")[0].innerHTML=t},f=function(){var e=document.querySelector(".tooltipNames"),t=document.querySelectorAll("polygon"),a=document.querySelectorAll("path");e.style.display="none";for(var o=0;o<t.length;o++)t[o].classList.remove("hoverIn");for(o=0;o<a.length;o++)a[o].classList.remove("hoverIn")},S=function(e){var t="https://mzzbmc3w8i.execute-api.us-east-1.amazonaws.com/default/ANHB?dep="+e;FuncionalidadesGenerales.getJSON(t,(function(t,n){null!==t?console.log("Something went wrong: "+t):(!function(e){var t;t=e.length<2?l.querySelector('[id*="-0'+e+'"]'):l.querySelector('[id*="-'+e+'"]');var n=FuncionalidadesGenerales.getSiblings(t);t.classList.remove("noSelected"),t.classList.add("selected");for(var r=0;r<n.length;r++)n[r].classList.remove("selected"),n[r].classList.add("noSelected");a.style.display="flex",o&&v(o)}(e),g(n))}))};[].forEach.call(c,(function(e){var a=e.getAttribute("id").split("-")[1];e.addEventListener("click",(function(){0==a[0]?n.querySelector("select").value=a[1]:n.querySelector("select").value=a,t.style.display="flex",S(a)})),e.addEventListener("mouseover",(function(){var t=e.getAttribute("dataName");h(e,t),0==a[0]?n.querySelector("select").value=a[1]:n.querySelector("select").value=a,S(a)})),e.addEventListener("mouseout",(function(){f()}))})),[].forEach.call(u,(function(e){var a=e.getAttribute("id").split("-")[1];e.addEventListener("click",(function(){0==a[0]?n.querySelector("select").value=a[1]:n.querySelector("select").value=a,t.style.display="flex",S(a)})),e.addEventListener("mouseover",(function(){var t=e.getAttribute("dataName");h(e,t),0==a[0]?n.querySelector("select").value=a[1]:n.querySelector("select").value=a,S(a)})),e.addEventListener("mouseout",(function(){f()}))})),y(document.querySelectorAll(".titleTopic")),y(document.querySelectorAll(".titleSubTopic")),a.addEventListener("click",(function(){var e=document.querySelectorAll("polygon"),a=document.querySelectorAll("path");this.style.display="none";for(var r=0;r<e.length;r++)e[r].classList.remove("selected");for(var s=0;s<a.length;s++)a[s].classList.remove("selected");n.querySelector("select").value="--",t.style.display="flex",p(d),o&&v(o)})),o&&o.addEventListener("click",(function(){this.classList.toggle("btnLessTopics"),this.parentNode.querySelector(".listTableByTopic").classList.toggle("showAllTopics"),this.parentNode.parentNode.classList.toggle("showingAllTopics"),this.parentNode.parentNode.parentNode.querySelector(".registersByCategory").classList.toggle("hidingByTopics")}))};return{init:function(){t(),e(),document.querySelector(".blackboxLoaderMapa")&&a(),setTimeout((function(){}),500)}}}(),mapaMail=void 0;document.addEventListener("DOMContentLoaded",(function(e){FuncionalidadesMap.init()}));
//# sourceMappingURL=mainCovid-mapa.js.map